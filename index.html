<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Project JeBroer</title>
	<link rel="stylesheet" href="css/app.css">
</head>
<body>
    <div class="container">
        <div class="header">Project JeBroer</div>
        <div id="canvas-container"></div>
    </div>

	<script src="js/Statemachine/State.js"></script>
	<script src="js/Statemachine/OverlayState.js"></script>
	<script src="js/Statemachine/StateImplementations/MenuPopupStackedOverlay.js"></script>
	<script src="js/Statemachine/StateImplementations/MenuPopup.js"></script>
	<script src="js/Statemachine/StateImplementations/MenuState.js"></script>
	<script src="js/Statemachine/StateImplementations/GameState.js"></script>
	<script src="js/Statemachine/StatemachineInitializer.js"></script>
	<script src="lib/pixi.js"></script>
	<script src="js/app.js"></script>
	<script>
		PJB.initialize();

		// Create states
		var states = [];
		var menuState = new MenuState();
		states.push(menuState);
		var gameState = new GameState();
		states.push(gameState);
		var menuPopup = new MenuPopup();
		states.push(menuPopup);
		var menuPopupStackedOverlay = new MenuPopupStackedOverlay();
		states.push(menuPopupStackedOverlay);

		// Define state transitions
		var stateTransitions = [
			{targetState: menuState},
			{sourceState: menuState, event: 'startGame', targetState: gameState},
			{sourceState: menuState, event: 'showPopup', targetState: menuPopup},
			{sourceState: menuPopup, event: 'showStackedOverlay', targetState: menuPopupStackedOverlay},
			{sourceState: gameState, event: 'pause', targetState: menuState}
		];

		PJB.statemachineInitializer.initialize(states, stateTransitions);
	</script>
</body>
</html>
